# Solutions pour les problèmes de cache en mode dev (Windows)

## Problème
Next.js 16 avec Turbopack peut avoir des problèmes de cache en mode développement.

## Solutions rapides

### 1. Nettoyer le cache manuellement (PowerShell)
```powershell
# Supprimer les dossiers de cache
Remove-Item -Recurse -Force .next -ErrorAction SilentlyContinue
Remove-Item -Recurse -Force node_modules\.cache -ErrorAction SilentlyContinue

# Redémarrer le serveur
npm run dev
```

### 1b. Nettoyer le cache manuellement (CMD)
```cmd
# Supprimer les dossiers de cache
if exist .next rmdir /s /q .next
if exist node_modules\.cache rmdir /s /q node_modules\.cache

# Redémarrer le serveur
npm run dev
```

### 2. Utiliser les scripts npm
```bash
# Nettoyer le cache
npm run clean

# Nettoyer et démarrer
npm run dev:clean
```

### 3. Utiliser le mode dev sans Turbopack (temporaire)
Modifier `package.json`:
```json
"scripts": {
  "dev": "next dev --no-turbo",
  "dev:turbo": "next dev"
}
```

### 4. Configuration next.config.js (déjà appliquée)
Les configurations suivantes ont été ajoutées:
- `isrMemoryCacheSize: 0` en développement
- `onDemandEntries` pour réduire le cache
- Headers de cache désactivés en dev

## Solution recommandée pour Windows
Utiliser le script npm:
```bash
npm run dev:clean
```

## Commandes utiles Windows
```powershell
# Nettoyer complètement (PowerShell)
Remove-Item -Recurse -Force .next, node_modules\.cache -ErrorAction SilentlyContinue
npm run dev

# Redémarrer avec port différent (évite les conflits)
npm run dev -- -p 3001
```

```cmd
# Nettoyer complètement (CMD)
if exist .next rmdir /s /q .next
if exist node_modules\.cache rmdir /s /q node_modules\.cache
npm run dev
```

